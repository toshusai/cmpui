import{j as y}from"./jsx-runtime-Cw0GR0a5.js";import{I as l,N,V,J as b}from"./index.es-CljsIJ_K.js";import{r as n}from"./index-CTjT7uj6.js";function j(t,s,u,o){n.useEffect(()=>{if(t.current!==null)return t.current.addEventListener(s,u,o),()=>{t.current!==null&&t.current.removeEventListener(s,u)}},[o,u,s,t])}function I({trackPadMoveScaleX:t=1,trackPadMoveScaleY:s=1,pointerDownZoomScale:u=100,minScale:o,maxScale:p,children:v,content:q,view:e,cursor:m,setCursor:x,onChangeView:i,style:f,...g}){const a=n.useRef(null),d=n.useCallback((r,C,E)=>{a.current&&l(a.current,r,C,E,{view:e,maxScale:p,minScale:o},i)},[a.current,e,p,o,i]);j(a,"wheel",n.useCallback(r=>{N(r,e,i,d,{trackPadMoveScaleX:t,trackPadMoveScaleY:s})},[e,i,l,s,t]),n.useMemo(()=>({passive:!1}),[]));const c=n.useMemo(()=>{if(a.current)return V(a.current,e,i,x)},[e,i,a.current]),T=n.useCallback(r=>{m===b.ZoomIn?d(r.pageX,r.pageY,u):m===b.ZoomOut?d(r.pageX,r.pageY,-u):c==null||c(r.nativeEvent)},[c,u,l,m]),k=n.useMemo(()=>({position:"absolute",pointerEvents:"none",transformOrigin:"0 0",top:`${e.y}px`,left:`${e.x}px`,transform:`scale(${e.scale})`}),[e.x,e.y,e.scale]),R=n.useMemo(()=>({cursor:m,...f}),[m,f]);return y.jsxs("div",{className:"cmpui_canvas-view__root",tabIndex:-1,ref:a,onPointerDown:T,style:R,...g,children:[y.jsx("div",{style:k,children:q}),v]})}I.__docgenInfo={description:"",methods:[],displayName:"CanvasView",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},content:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onChangeView:{required:!0,tsType:{name:"signature",type:"function",raw:"(view: View) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
  scale: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"scale",value:{name:"number",required:!0}}]}},name:"view"}],return:{name:"void"}}},description:""},view:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
  scale: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"scale",value:{name:"number",required:!0}}]}},description:""},cursor:{required:!1,tsType:{name:"CanvasViewCursor"},description:""},setCursor:{required:!1,tsType:{name:"signature",type:"function",raw:"(cursor: CanvasViewCursor) => void",signature:{arguments:[{type:{name:"CanvasViewCursor"},name:"cursor"}],return:{name:"void"}}},description:""},minScale:{required:!1,tsType:{name:"number"},description:""},maxScale:{required:!1,tsType:{name:"number"},description:""},trackPadZoomScale:{required:!1,tsType:{name:"number"},description:""},trackPadMoveScaleX:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},trackPadMoveScaleY:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},pointerDownZoomScale:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}}}};export{I as C};
