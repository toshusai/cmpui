import{j as a}from"./jsx-runtime-DEdD30eg.js";import{r,R as y}from"./index-RYns6xqu.js";import{P as w}from"./index-BT2bw5_6.js";import{M as h,a as R}from"./MenuListItem-Cc35ocKm.js";import{c as x}from"./classNames-CN4lTu6a.js";function N(t){const c=r.useMemo(()=>{var e;return(e=t.options.find(n=>n.value===t.value))==null?void 0:e.label},[t.value,t.options]),g=r.useId(),u=r.useId(),d=r.useRef(null),[l,s]=y.useState(!1),m=r.useRef(!1),b=()=>{const e=l;s(!0),m.current=!1;let n=0;const i=p=>{n+=Math.abs(p.movementX)+Math.abs(p.movementY),n>10&&(m.current=!0)},f=()=>{e&&s(!1),window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",f)};window.addEventListener("pointermove",i),window.addEventListener("pointerup",f)},o=e=>{var n,i;s(!1),(n=d.current)==null||n.focus(),(i=t.onChange)==null||i.call(t,e)},v=r.useId();return a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:x("cmpui_select__root",t.className),onPointerDown:b,ref:d,role:"combobox","aria-expanded":l,"aria-haspopup":"listbox","aria-labelledby":u,"aria-controls":v,onKeyDown:e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),s(!l))},children:[a.jsx("div",{className:"cmpui_select__preview",children:typeof c=="string"?a.jsx("span",{children:c}):c}),t.label&&a.jsx("label",{"v-if":"label",id:u,className:"cmpui_select__label",htmlFor:g,children:t.label})]}),a.jsx(w,{trigger:d,isOpen:l,onClose:()=>s(!1),disabledTriggerClickClose:!0,autoResize:!0,children:a.jsx(h,{id:v,onSelect:o,role:"listbox","aria-labelledby":u,defaultValue:t.value,children:t.options.map(e=>a.jsxs(R,{value:e.value,rounded:!0,onPointerUp:()=>{m.current&&o(e.value)},selected:e.value===t.value,onClick:()=>{o(e.value)},onKeyDown:n=>n.key==="Tab"?o(e.value):null,style:{paddingLeft:"24px",position:"relative"},role:"option",children:[e.value===t.value&&a.jsx("div",{className:"cmpui_select_check-icon",style:{position:"absolute",left:"8px"}}),e.label]},e.value))})})]})}N.__docgenInfo={description:"",methods:[],displayName:"Select",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: string) => void",signature:{arguments:[{type:{name:"string"},name:"v"}],return:{name:"void"}}},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string | React.ReactNode;
  value: string;
}`,signature:{properties:[{key:"label",value:{name:"union",raw:"string | React.ReactNode",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"}],required:!0}},{key:"value",value:{name:"string",required:!0}}]}}],raw:`{
  label: string | React.ReactNode;
  value: string;
}[]`},description:""},label:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{N as S};
