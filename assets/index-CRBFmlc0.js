import{j as m}from"./jsx-runtime-DEdD30eg.js";import{r as t}from"./index-RYns6xqu.js";import{C as D,F as L,P as x,Y as V,H as _,f as k,u as j,m as P}from"./index.es-H_zVnTIh.js";import{C as R}from"./index-Cw-4VH1H.js";import{C as M}from"./index-DRG_lRMT.js";function F(){const i=t.useRef(null),e=t.useMemo(()=>{const n=r=>{r.preventDefault();const s=()=>{document.removeEventListener("touchmove",n),document.removeEventListener("touchend",s)};document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",s)};return n},[]);return t.useEffect(()=>{const n=i.current;if(n)return n.addEventListener("touchstart",e,{passive:!1}),()=>{n.removeEventListener("touchstart",e)}},[e]),i}const p=t.memo(function(e){const n=F(),r=t.useRef(null);t.useEffect(()=>{n.current&&(r.current=D(n.current))},[n.current]),t.useEffect(()=>{r.current&&L(r.current,e.hue)},[e.hue]);const s=t.useMemo(()=>x({height:e.height,width:e.width,onChange:e.onChange,onDownChange:e.onDownChange,onStart:e.onStart,onEnd:e.onEnd}),[e.height,e.width,e.onChange,e.onDownChange,e.onStart,e.onEnd]);return t.useEffect(()=>{if(n.current)return n.current.addEventListener("pointerdown",s),()=>{n.current&&n.current.removeEventListener("pointerdown",s)}},[s]),m.jsx("canvas",{width:e.width,height:e.height,style:{width:e.width,height:e.height},ref:n})});p.__docgenInfo={description:"",methods:[],displayName:"SVCanvas",props:{nobRadius:{required:!1,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(saturation: number, value: number) => void",signature:{arguments:[{type:{name:"number"},name:"saturation"},{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},hue:{required:!0,tsType:{name:"number"},description:""},saturation:{required:!1,tsType:{name:"number"},description:""},showLoupe:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"number"},description:""},width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},onStart:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDownChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(isDown: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isDown"}],return:{name:"void"}}},description:""}}};function I({nobRadius:i=8,onChange:e,hue:n,saturation:r=1,showLoupe:s=!0,value:u=1,width:l=192,height:f=192,...o}){const h=r*l,y=(1-u)*f,[w,d]=t.useState(!1),b=t.useMemo(()=>V({saturation:r,value:u,onChange:e}),[r,u,e]),E=t.useCallback(()=>{d(!0)},[]),T=t.useCallback(()=>{d(!1)},[]),v=t.useMemo(()=>_({height:f,width:l,onChange:e,onDown:()=>{var a;d(!0),(a=o.onStart)==null||a.call(o)},onUp:()=>{var a;d(!1),(a=o.onEnd)==null||a.call(o)},s:r,v:u}),[e,r,u,l,f,o.onEnd,o.onStart]),g=t.useMemo(()=>k(j({h:n,s:r,v:u})),[n,r,u]),q=t.useMemo(()=>({h:n,s:r,v:u}),[n,r,u]),C=P(q),c=t.useRef(null);return t.useEffect(()=>{if(c.current)return c.current.addEventListener("pointerdown",v),()=>{c.current&&c.current.removeEventListener("pointerdown",v)}},[v]),m.jsxs("div",{className:"cmpui_sv-picker__root",tabIndex:0,onKeyDown:a=>b(a.nativeEvent),onFocus:E,onBlur:T,children:[m.jsx(p,{width:l,height:f,hue:n,onChange:(a,S)=>{e(a,S)},onDownChange:d}),s&&w&&m.jsx(M,{nobRadius:i,x:h,y,color:g}),m.jsx(R,{ref:c,className:"cmpui_sv-picker__nob",fill:g,radius:i,strokeColor:C,strokeWidth:2,x:h,y})]})}I.__docgenInfo={description:"",methods:[],displayName:"SVPicker",props:{nobRadius:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"8",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(saturation: number, value: number) => void",signature:{arguments:[{type:{name:"number"},name:"saturation"},{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},hue:{required:!0,tsType:{name:"number"},description:""},saturation:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},showLoupe:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},value:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"192",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"192",computed:!1}},onStart:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{I as S,F as u};
