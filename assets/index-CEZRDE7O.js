import{j as i}from"./jsx-runtime-Cw0GR0a5.js";import{r as s}from"./index-CTjT7uj6.js";import{r as we}from"./index-CYM-y3Gt.js";import{c as Ee,u as te,B as xe,P as A,d as ye,e as he,f as q,b as R,R as Ce,g as Pe,h as Re,i as be}from"./index-D3iKhckW.js";import{c as ge}from"./index-BpKo_AiQ.js";import{V as oe}from"./index-BhDvpG6f.js";import{F as Se}from"./index-BVhRoD2p.js";var G="ToastProvider",[J,_e,Fe]=ge("Toast"),[re,at]=Ee("Toast",[Fe]),[Ie,H]=re(G),se=e=>{const{__scopeToast:o,label:r="Notification",duration:t=5e3,swipeDirection:u="right",swipeThreshold:d=50,children:p}=e,[T,v]=s.useState(null),[n,P]=s.useState(0),x=s.useRef(!1),D=s.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${G}\`. Expected non-empty \`string\`.`),i.jsx(J.Provider,{scope:o,children:i.jsx(Ie,{scope:o,label:r,duration:t,swipeDirection:u,swipeThreshold:d,toastCount:n,viewport:T,onViewportChange:v,onToastAdd:s.useCallback(()=>P(g=>g+1),[]),onToastRemove:s.useCallback(()=>P(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:D,children:p})})};se.displayName=G;var ne="ToastViewport",Ne=["F8"],B="toast.viewportPause",Y="toast.viewportResume",ae=s.forwardRef((e,o)=>{const{__scopeToast:r,hotkey:t=Ne,label:u="Notifications ({hotkey})",...d}=e,p=H(ne,r),T=_e(r),v=s.useRef(null),n=s.useRef(null),P=s.useRef(null),x=s.useRef(null),D=te(o,x,p.onViewportChange),g=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;s.useEffect(()=>{const c=y=>{var m;t.every(w=>y[w]||y.code===w)&&((m=x.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t]),s.useEffect(()=>{const c=v.current,y=x.current;if(S&&c&&y){const f=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(B);y.dispatchEvent(h),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(Y);y.dispatchEvent(h),p.isClosePausedRef.current=!1}},w=h=>{!c.contains(h.relatedTarget)&&m()},E=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",w),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",E),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",w),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",E),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);const l=s.useCallback(({tabbingDirection:c})=>{const f=T().map(m=>{const w=m.ref.current,E=[w,...Xe(w)];return c==="forwards"?E:E.reverse()});return(c==="forwards"?f.reverse():f).flat()},[T]);return s.useEffect(()=>{const c=x.current;if(c){const y=f=>{var E,h,_;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const O=document.activeElement,I=f.shiftKey;if(f.target===c&&I){(E=n.current)==null||E.focus();return}const F=l({tabbingDirection:I?"backwards":"forwards"}),M=F.findIndex(a=>a===O);$(F.slice(M+1))?f.preventDefault():I?(h=n.current)==null||h.focus():(_=P.current)==null||_.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[T,l]),i.jsxs(xe,{ref:v,role:"region","aria-label":u.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&i.jsx(z,{ref:n,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});$(c)}}),i.jsx(J.Slot,{scope:r,children:i.jsx(A.ol,{tabIndex:-1,...d,ref:D})}),S&&i.jsx(z,{ref:P,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});$(c)}})]})});ae.displayName=ne;var ie="ToastFocusProxy",z=s.forwardRef((e,o)=>{const{__scopeToast:r,onFocusFromOutsideViewport:t,...u}=e,d=H(ie,r);return i.jsx(oe,{"aria-hidden":!0,tabIndex:0,...u,ref:o,style:{position:"fixed"},onFocus:p=>{var n;const T=p.relatedTarget;!((n=d.viewport)!=null&&n.contains(T))&&t()}})});z.displayName=ie;var W="Toast",Ae="toast.swipeStart",De="toast.swipeMove",Oe="toast.swipeCancel",je="toast.swipeEnd",ce=s.forwardRef((e,o)=>{const{forceMount:r,open:t,defaultOpen:u,onOpenChange:d,...p}=e,[T=!0,v]=ye({prop:t,defaultProp:u,onChange:d});return i.jsx(he,{present:r||T,children:i.jsx(ke,{open:T,...p,ref:o,onClose:()=>v(!1),onPause:q(e.onPause),onResume:q(e.onResume),onSwipeStart:R(e.onSwipeStart,n=>{n.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:R(e.onSwipeMove,n=>{const{x:P,y:x}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","move"),n.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${P}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:R(e.onSwipeCancel,n=>{n.currentTarget.setAttribute("data-swipe","cancel"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:R(e.onSwipeEnd,n=>{const{x:P,y:x}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","end"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${P}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),v(!1)})})})});ce.displayName=W;var[Le,Me]=re(W,{onClose(){}}),ke=s.forwardRef((e,o)=>{const{__scopeToast:r,type:t="foreground",duration:u,open:d,onClose:p,onEscapeKeyDown:T,onPause:v,onResume:n,onSwipeStart:P,onSwipeMove:x,onSwipeCancel:D,onSwipeEnd:g,...S}=e,l=H(W,r),[c,y]=s.useState(null),f=te(o,a=>y(a)),m=s.useRef(null),w=s.useRef(null),E=u||l.duration,h=s.useRef(0),_=s.useRef(E),O=s.useRef(0),{onToastAdd:I,onToastRemove:U}=l,N=q(()=>{var C;(c==null?void 0:c.contains(document.activeElement))&&((C=l.viewport)==null||C.focus()),p()}),F=s.useCallback(a=>{!a||a===1/0||(window.clearTimeout(O.current),h.current=new Date().getTime(),O.current=window.setTimeout(N,a))},[N]);s.useEffect(()=>{const a=l.viewport;if(a){const C=()=>{F(_.current),n==null||n()},b=()=>{const j=new Date().getTime()-h.current;_.current=_.current-j,window.clearTimeout(O.current),v==null||v()};return a.addEventListener(B,b),a.addEventListener(Y,C),()=>{a.removeEventListener(B,b),a.removeEventListener(Y,C)}}},[l.viewport,E,v,n,F]),s.useEffect(()=>{d&&!l.isClosePausedRef.current&&F(E)},[d,E,l.isClosePausedRef,F]),s.useEffect(()=>(I(),()=>U()),[I,U]);const M=s.useMemo(()=>c?me(c):null,[c]);return l.viewport?i.jsxs(i.Fragment,{children:[M&&i.jsx(Ve,{__scopeToast:r,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),i.jsx(Le,{scope:r,onClose:N,children:we.createPortal(i.jsx(J.ItemSlot,{scope:r,children:i.jsx(Ce,{asChild:!0,onEscapeKeyDown:R(T,()=>{l.isFocusedToastEscapeKeyDownRef.current||N(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(A.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:R(e.onKeyDown,a=>{a.key==="Escape"&&(T==null||T(a.nativeEvent),a.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:R(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:R(e.onPointerMove,a=>{if(!m.current)return;const C=a.clientX-m.current.x,b=a.clientY-m.current.y,j=!!w.current,L=["left","right"].includes(l.swipeDirection),k=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,Te=L?k(0,C):0,ve=L?0:k(0,b),X=a.pointerType==="touch"?10:2,V={x:Te,y:ve},Z={originalEvent:a,delta:V};j?(w.current=V,K(De,x,Z,{discrete:!1})):ee(V,l.swipeDirection,X)?(w.current=V,K(Ae,P,Z,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(C)>X||Math.abs(b)>X)&&(m.current=null)}),onPointerUp:R(e.onPointerUp,a=>{const C=w.current,b=a.target;if(b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),w.current=null,m.current=null,C){const j=a.currentTarget,L={originalEvent:a,delta:C};ee(C,l.swipeDirection,l.swipeThreshold)?K(je,g,L,{discrete:!0}):K(Oe,D,L,{discrete:!0}),j.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),Ve=e=>{const{__scopeToast:o,children:r,...t}=e,u=H(W,o),[d,p]=s.useState(!1),[T,v]=s.useState(!1);return We(()=>p(!0)),s.useEffect(()=>{const n=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(n)},[]),T?null:i.jsx(Pe,{asChild:!0,children:i.jsx(oe,{...t,children:d&&i.jsxs(i.Fragment,{children:[u.label," ",r]})})})},Ke="ToastTitle",ue=s.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e;return i.jsx(A.div,{...t,ref:o})});ue.displayName=Ke;var qe="ToastDescription",le=s.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e;return i.jsx(A.div,{...t,ref:o})});le.displayName=qe;var de="ToastAction",He=s.forwardRef((e,o)=>{const{altText:r,...t}=e;return r.trim()?i.jsx(fe,{altText:r,asChild:!0,children:i.jsx(Q,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${de}\`. Expected non-empty \`string\`.`),null)});He.displayName=de;var pe="ToastClose",Q=s.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e,u=Me(pe,r);return i.jsx(fe,{asChild:!0,children:i.jsx(A.button,{type:"button",...t,ref:o,onClick:R(e.onClick,u.onClose)})})});Q.displayName=pe;var fe=s.forwardRef((e,o)=>{const{__scopeToast:r,altText:t,...u}=e;return i.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...u,ref:o})});function me(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),Ue(t)){const u=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!u)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...me(t))}}),o}function K(e,o,r,{discrete:t}){const u=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});o&&u.addEventListener(e,o,{once:!0}),t?Re(u,d):u.dispatchEvent(d)}var ee=(e,o,r=0)=>{const t=Math.abs(e.x),u=Math.abs(e.y),d=t>u;return o==="left"||o==="right"?d&&t>r:!d&&u>r};function We(e=()=>{}){const o=q(e);be(()=>{let r=0,t=0;return r=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(t)}},[o])}function Ue(e){return e.nodeType===e.ELEMENT_NODE}function Xe(e){const o=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const u=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||u?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)o.push(r.currentNode);return o}function $(e){const o=document.activeElement;return e.some(r=>r===o?!0:(r.focus(),document.activeElement!==o))}var $e=se,Be=ae,Ye=ce,ze=ue,Ge=le,Je=Q;function Qe(e){return i.jsxs($e,{swipeDirection:"down",children:[i.jsx(Ye,{duration:3e3,open:e.open,onOpenChange:e.onOpenChange,asChild:!0,children:i.jsxs(Se,{className:"cmpui_toast__root",children:[i.jsx(ze,{}),i.jsx(Ge,{children:e.children}),e.close&&i.jsx(Je,{children:e.close})]})}),i.jsx(Be,{className:"cmpui_toast__viewport"})]})}Qe.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{open:{required:!1,tsType:{name:"boolean"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},side:{required:!1,tsType:{name:"union",raw:'"top" | "bottom" | "left" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:""},avoidCollisions:{required:!1,tsType:{name:"boolean"},description:""},onDismiss:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},sideOffset:{required:!1,tsType:{name:"number"},description:""},alignOffset:{required:!1,tsType:{name:"number"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},close:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{Qe as T};
